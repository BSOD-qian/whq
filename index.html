<!doctype html>
<html lang="zh-CN" class="mdui-theme-auto">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no" />
    <meta name="renderer" content="webkit" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="shortcut icon" href="./favicon.png" type="image/x-icon">
    <link rel="manifest" href="./manifest.json">

    <link rel="stylesheet" href="./mdui/mdui.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script type="module" src="./mdui/mdui.global.js"></script>
    <script type="module" src="./style.js"></script>
    <script src="./core.js"></script>

    <title>文化墙（存档）</title>
</head>

<body>
    <style>
        body {
            opacity: 0;
        }

        body.ready {
            opacity: 1;
            transition: 0.4s opacity;
        }
    </style>

    <script type="module">
        await Promise.allSettled([
            customElements.whenDefined('mdui-button'),
            customElements.whenDefined('mdui-card'),
            customElements.whenDefined('mdui-checkbox')
        ]);

        // 现在 button, card, checkbox 组件已经注册完成，添加 ready class，使页面淡入显示
        document.body.classList.add('ready');
        console.log("okay")
        theme_after_load();
    </script>
    <mdui-top-app-bar variant="center-aligned" scroll-behavior="elevate">
        <mdui-button-icon icon="menu" id="drawer_opener"></mdui-button-icon>
        <mdui-top-app-bar-title>文化墙（存档）</mdui-top-app-bar-title>
        <div style="flex-grow: 1"></div>
        <mdui-tooltip content="色彩模式切换" id="brightness_tooltip">
            <mdui-button-icon icon="brightness_auto" onclick="change();" id="brightness_control"></mdui-button-icon>
        </mdui-tooltip>
        <mdui-tooltip content="刷新">
            <mdui-button-icon icon="refresh" onclick="location.reload();"></mdui-button-icon>
        </mdui-tooltip>
    </mdui-top-app-bar>
    <div class="mdui-prose">
        <mdui-list>
            <mdui-list-subheader>2024.9</mdui-list-subheader>
            <mdui-list-item>
                胜人者有力，自胜者强
                <span slot="description">2024.9.3</span>
                <mdui-avatar slot="icon" src="./avatars/23.jpg"></mdui-avatar>
                <mdui-button slot="end-icon" variant="filled" end-icon="search" href="https://www.baidu.com/s?tn=22073068_8_oem_dg&ch=2&ie=utf-8&word=胜人者有力，自胜者强" target="_blank">百度一下</mdui-button>
            </mdui-list-item>
            <mdui-list-item>
                凡是过往，皆为序章
                <span slot="description">2024.9.2</span>
                <mdui-avatar slot="icon" src="./avatars/26.jpg"></mdui-avatar>
                <mdui-button slot="end-icon" variant="filled" end-icon="search" href="https://www.baidu.com/s?tn=22073068_8_oem_dg&ch=2&ie=utf-8&word=凡是过往，皆为序章" target="_blank">百度一下</mdui-button>
            </mdui-list-item>
        </mdui-list>
    </div>
    <mdui-navigation-drawer close-on-overlay-click id="drawer" modal close-on-esc close-on-overlay-click>
        <mdui-list>
            <mdui-list-item href="./index.html" rounded active>主页</mdui-list-item>
        </mdui-list>
    </mdui-navigation-drawer>
    <script>
        const navigationDrawer = document.getElementById("drawer");
        const drawer_openButton = document.getElementById("drawer_opener");
        //const drawer_closeButton = document.getElementById("drawer_closer");

        drawer_openButton.addEventListener("click", function () { navigationDrawer.open = true });
        //drawer_closeButton.addEventListener("click", function () { navigationDrawer.open = false });
    </script>

    <script>
        const version_dialog = document.getElementById("version_dialog");
        const version_dialog_openButton = document.getElementById("version")
        const version_dialog_closeButton = document.getElementById("version_dialog_ok_button");

        version_dialog_openButton.addEventListener("click", function () { version_dialog.open = true });
        version_dialog_closeButton.addEventListener("click", function () { version_dialog.open = false });
    </script>
    <script>
        if (typeof navigator.serviceWorker !== 'undefined') {
            navigator.serviceWorker.register('sw.js')
        }
    </script>
    <script src="./versioncheck.js"></script>
    <script src="./brightness.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.js.iife.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/driver.js@1.0.1/dist/driver.css" />
</body>

</html>